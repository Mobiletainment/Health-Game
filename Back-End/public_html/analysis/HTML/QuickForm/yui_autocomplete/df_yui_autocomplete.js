function buildYUIAutocomplete(e){var t;if(e.getAttribute("df:datasource")){var n=e.getAttribute("df:datasource")||"";var r="";if(n.indexOf("?")>=0){var i=n.split("?");n=i[0];r=i[1]}var s=[e.getAttribute("df:resultNode")||"Result",e.getAttribute("df:queryKeyNode")||"df:title"];var o=(e.getAttribute("df:additionalNodes")||"").split(",");for(var u=0;u<o.length;u++){s[s.length]=o[u]}t=new YAHOO.widget.DS_XHR(n,s);t.scriptQueryAppend=r;t.responseType=YAHOO.widget.DS_XHR.TYPE_XML;t.scriptQueryParam=e.getAttribute("df:scriptQueryParam")||""}else if(e.getAttribute("df:vocabulary")){var a=window.DATAFACE.VALUELISTS[e.getAttribute("df:vocabulary")];t=new YAHOO.widget.DS_JSArray(a);t.queryMatchContains=true}var f=document.createElement("div");f.className="yui-autocomplete-wrapper";f.style.width="100%";f.setAttribute("df:noClone","1");var l=e.getAttribute("id")+"-autocomplete-container";var c=document.createElement("div");c.className="yui-autocomplete-container";c.style.width="300px";c.setAttribute("id",l);f.appendChild(c);if(e.nextSibling){e.parentNode.insertBefore(f,e.nextSibling)}else{e.parentNode.appendChild(f)}var h=new YAHOO.widget.AutoComplete(e.getAttribute("id"),c.getAttribute("id"),t);if(e.getAttribute("data-xf-max-results-displayed")){h.maxResultsDisplayed=parseInt(e.getAttribute("data-xf-max-results-displayed"))}}function updateYUIVocabulary(e){var t=window.DATAFACE.VALUELISTS[e.getAttribute("df:vocabulary")];if(t.indexOf(e.value)==-1){t[t.length]=e.value;t.sort()}}if(typeof Array.indexOf!="function"){Array.prototype.indexOf=function(e,t){if(typeof t=="undefined")t=0;for(var n=t;n<this.length;n++){if(e===this[n])return n}return-1}}